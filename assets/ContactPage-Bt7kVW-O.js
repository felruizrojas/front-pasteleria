import{e as a,A as h,r as b,j as o,b as g,c as v}from"./index-CtA74-58.js";import{I as x,B as j}from"./Input-CJ-O810F.js";import{s as E}from"./userValidations-DoQ_YzLs.js";const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,N=r=>{const e={},t=r.nombre?.trim()??"",n=r.correo?.trim()??"",s=r.comentario?.trim()??"";return t?t.length>100&&(e.nombre=a.maxLength("El nombre",100)):e.nombre=a.required("El nombre"),n?n.length>100?e.correo=a.maxLength("El correo",100):C.test(n)?h.some(l=>n.toLowerCase().endsWith(l))||(e.correo=a.emailDomain([...h])):e.correo=a.emailFormat:e.correo=a.required("El correo"),s?s.length>500&&(e.comentario=a.maxLength("El comentario",500)):e.comentario=a.required("El comentario"),{isValid:Object.keys(e).length===0,errors:e}},A=()=>{const[r,e]=b.useState({nombre:"",correo:"",comentario:""}),[t,n]=b.useState({}),[s,l]=b.useState(null),m=d=>{const{name:c,value:i}=d.currentTarget,f=c==="nombre"?E(i):i;e(u=>({...u,[c]:f})),n(u=>({...u,[c]:void 0})),l(null)},p=d=>{d.preventDefault();const c=N(r);if(!c.isValid){n(c.errors),l({type:"danger",text:"Revisa los campos marcados e inténtalo nuevamente."});return}const i={...r,fecha:new Date().toISOString()};g(v.contactMessages,i),l({type:"success",text:"¡Mensaje enviado! Te contactaremos a la brevedad."}),e({nombre:"",correo:"",comentario:""})};return o.jsx("section",{className:"contact-page py-4",children:o.jsx("div",{className:"d-flex align-items-center justify-content-center pb-5 px-4",children:o.jsxs("div",{className:"card shadow-sm border-0 p-4 contact-card w-100",style:{maxWidth:540},children:[o.jsx("h2",{className:"text-center mb-3 text-uppercase",children:"Contáctanos"}),o.jsxs("form",{noValidate:!0,onSubmit:p,children:[s?o.jsx("div",{className:`alert alert-${s.type}`,role:"alert",children:s.text}):null,o.jsx(x,{label:"Nombre completo",name:"nombre",placeholder:"Juan Pérez Soto",value:r.nombre,onChange:m,errorText:t.nombre}),o.jsx(x,{label:"Correo electrónico",type:"email",name:"correo",placeholder:"tucorreo@dominio.com",value:r.correo,onChange:m,helperText:"Dominios permitidos: @duoc.cl, @profesor.duoc.cl, @gmail.com",errorText:t.correo}),o.jsxs("div",{className:"mb-3",children:[o.jsx("label",{className:"form-label",htmlFor:"contactComment",children:"Comentario"}),o.jsx("textarea",{className:`form-control${t.comentario?" is-invalid":""}`,id:"contactComment",name:"comentario",rows:4,placeholder:"Máximo 500 caracteres",value:r.comentario,onChange:m}),t.comentario?o.jsx("div",{className:"invalid-feedback d-block",children:t.comentario}):null]}),o.jsx(j,{type:"submit",block:!0,variant:"strawberry",children:"Enviar"})]})]})})})};export{A as default};
